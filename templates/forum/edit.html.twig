{% extends 'base.html.twig' %}

{% block title %}Modifier la discussion
{% endblock %}

{% block body %}
	<div class="container mt-5">
		<h1 class="mb-4">Modifier la discussion</h1>

		<div class="card">
			<div class="card-body">
				{{ form_start(form) }}
				{{ form_row(form.title) }}
				{{ form_row(form.category) }}
				{{ form_row(form.content, {
                    attr: {
                        'data-controller': 'textarea-autogrow'
                    }
                }) }}
				{# Section image existante #}
				<div class="mb-4">
					{% if forum.imageName %}
						<div class="current-image">
							<img src="{{ asset('uploads/forum/' ~ forum.imageName) }}" class="img-thumbnail mb-2" style="max-width: 300px;">

							<div class="form-check">
								<input type="checkbox" class="form-check-input" id="remove_image" name="remove_image">
								<label class="form-check-label text-danger" for="remove_image">
									Supprimer cette image
								</label>
							</div>
						</div>
					{% endif %}
					<small class="form-text text-muted">
						Formats accept√©s: JPEG, PNG (max 5Mo)
					</small>
					{{ form_row(form.imageFile) }}
					<div class="mt-4">
						<button type="submit" class="btn btn-primary">
							<i class="bi bi-save"></i>
							Enregistrer les modifications
						</button>
						<a href="{{ path('app_forum_show', {'id': forum.id}) }}" class="btn btn-outline-secondary">
							Annuler
						</a>
					</div>
					{{ form_end(form) }}
				</div>
			</div>
		</div>
	{% endblock %}
